<!-- This is for all the screens related to organization structures e.g. company, division, departments, units, positions -->

<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">

	<screen name="OrganizationMainDecorator">
		<section>
			<actions>			
				<set field="headerItem" value="organization" />
				<!-- <set field="tabButtonItem" value="structure" /> -->
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="pre-body">
					<include-menu location="component://humanres/widget/organization/menus/OrganizationMenus.xml" name="OrganizationMenus" />
					</decorator-section> 
					<decorator-section name="body">
						<decorator-section-include name="body" />
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="PrintOrganizationChartDecorator">
		<section>
			<actions>
				<!-- Setting Menu -->
				<set field="headerItem" value="organization" />
				<set field="tabButtonItem" value="structure" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="pre-body">
						<include-menu location="component://humanres/widget/organization/menus/OrganizationMenus.xml" name="StructureActionMenu" />
					</decorator-section>
					<decorator-section name="body">
						<decorator-section-include name="body" />
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="EmplPositionFulfilmentView">
		<section>
			<actions>
				<entity-condition entity-name="EmplPositionFulfillment" list="emplPositionFulfillments">
				<condition-list combine="and">
					<condition-expr field-name="emplPositionId" operator="equals" from-field="parameters.emplPositionId" />
					<!-- <condition-expr field-name="thruDate" operator="equals" from-field="nullField" /> -->
					</condition-list>	
					<order-by field-name="fromDate" />
				</entity-condition>
				
			</actions>
			<widgets>
				<screenlet name="EmplFulfillment" title="${uiLabelMap.HumanResPositionFulfillments}" navigation-menu-name="AssignFulfillmentPerson"><!-- Positioning Button -->
						<container id="assignFulfillmentPersonPopUp"></container>
						<include-menu location="component://humanres/widget/organization/menus/OrganizationMenus.xml" name="AssignFulfillmentPerson" />
						<include-form name="EmployeesPerPosition" location="component://humanres/widget/organization/forms/OrganizationForms.xml" />
				</screenlet>	
			</widgets>
		</section>
	</screen>
			
	
	<screen name="ContessaPositionView">
		<section>
			<actions>
				<set field="titleProperty" value="HumanResEmplPositionSummary" />
				<set field="tabButtonItem" value="profile" />
				<set field="actionButtonItem" value="ListSummary" />
				<set field="emplPositionId" from-field="parameters.emplPositionId" />
				<entity-one entity-name="EmplPosition" value-field="emplPosition" />
				<entity-and list="emplPosType1" entity-name="EmplPositionType">
					<field-map field-name="emplPositionTypeId" value="${emplPosition.emplPositionTypeId}"/>
				</entity-and>
				<entity-and entity-name="BudgetItem" list="budgetItem">
	 			<field-map field-name="budgetId" from-field="emplPosition.budgetId"/>
	 			</entity-and>
	 			<entity-and entity-name="EmplPositionFulfillment" list="emplpositionfulfillment">
	 			<field-map field-name="emplPositionId" from-field="emplPositionId"/>
	 			</entity-and>
	 			
	 			<entity-condition list="budgetdocuments" entity-name="BudgetAndContent">
							<condition-list>
								<condition-expr field-name="emplPositionId" from-field="emplPositionId" />
							</condition-list>
				</entity-condition>
	 			
	 			<set field="amount" from-field="budgetItem[0].amount"/>
				<set field="emplPosTypeDes" from-field="emplPosType1[0].description"/>
				<set field="emplPosTypeId" from-field="emplPosType1[0].emplPositionTypeId"/>
				<set field="decorator" value="component://humanres/widget/organization/screens/OrganizationScreens.xml" /> <!-- Decorator -->



			</actions>
			<widgets>
				<decorator-screen name="OrganizationMainDecorator" location="${decorator}">
					<decorator-section name="body">
						<section>
							<widgets>
							<container style="profile-full">
					 		<include-screen name="breadcrumb" />
					 	</container>
								<container style="lefthalf">
									<screenlet title="${uiLabelMap.HumanResEmployeePosition} ${uiLabelMap.CommonInformation}">
										<section>
											<widgets>
												<include-form name="PositionInfo" location="component://humanres/widget/organization/forms/OrganizationForms.xml" />
											</widgets>
										</section>
									</screenlet>
									<include-screen name="budgetDocumentList" location="component://humanres/widget/organization/screens/OrganizationScreens.xml" />
									<include-screen name="EmplPositionFulfilmentView" location="component://humanres/widget/organization/screens/OrganizationScreens.xml" />
								</container>
								<container style="righthalf">
									<!-- <include-screen name="EmplPaygradeView" location="component://humanres/widget/organization/screens/OrgPositionScreen.xml" /> -->
									<include-screen name="JobRequisitionList" location="component://humanres/widget/recruitment/ContessaRecruitmentScreens.xml"/> 
									<include-screen name="OrgEmplPositionResponsibilityView"/>
									<include-screen name="OrgEmplPositionReportsToView" />
									<include-screen name="OrgEmplPositionReportedToView" />
									
								</container>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="budgetDocumentList">
	
		<section>
			<widgets>
				<screenlet name="documents" title=" Budget Documents " id="documents" navigation-menu-name="AddBudgetDocument">
					<container id="addDocumentBudgetPopUp"></container>
					<include-menu location="component://humanres/widget/organization/menus/OrganizationMenus.xml" name="AddBudgetDocument" />
					<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="BudgetDocumentList" />
				</screenlet>
			</widgets>
		</section>
	</screen>
	<screen name="uploadBudgetContent">
		<section>
			<actions>
				<entity-one entity-name="PartyGroup" value-field="company">
					<field-map field-name="partyId" from-field="userPreferences.ORGANIZATION_UNIT" />
				</entity-one>
								
				<set field="emplPositionId" from-field="parameters.emplPositionId"/>
				
				
				<entity-and list="emplposition" entity-name="EmplPosition">
					<field-map field-name="emplPositionId" from-field="emplPositionId" />
				</entity-and>
				<entity-and list="emplPosType1" entity-name="EmplPositionType">
					<field-map field-name="emplPositionTypeId" from-field="emplposition[0].emplPositionTypeId" />
				</entity-and>
				
				
				<set field="emplPosTypeDes" from-field="emplPosType1[0].description"/>
				<set field="emplPosTypeId" from-field="emplPosType1[0].emplPositionTypeId"/>
			
				
	 			<set field="budgetId" from-field="emplposition[0].budgetId"/>
				<set field="budgetItemSeqId" from-field="emplposition[0].budgetItemSeqId"/>
				
				<set field="parameters.partyId" value="${defaultOrganizationPartyId}" />
				<set field="partyContentTypeId" value="INTERNAL" />
				<set field="uploadTitle" value="Upload Document" />
				
				
			</actions>
			<widgets>
				<include-screen name="PopupActions" />
				<platform-specific>
					<html>
						<html-template location="component://humanres/webapp/humanres/humanres/organization/BudgetContent.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	<screen name="positions">
		<section>
			<widgets>
				<screenlet name="positions" title="${organizationTitle} Level Positions" navigation-menu-name="LinkForPosition"><!-- Positioning Button -->
					<container id="addPositionPopUp"></container><!-- Menu Comes from Below Menu -->
					<container id="movePositionPopUp"></container> <!-- Menu Comes from Below Menu -->
					<include-menu location="component://humanres/widget/organization/menus/OrganizationMenus.xml" name="LinkForPosition" />
					<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="Positions" />
				</screenlet>
			</widgets>
		</section>
	</screen>
	<screen name="OrganizationHeadAssign">
		<section>
			<widgets>
				<screenlet name="positions" title="Create ${organizationTitle} Head" navigation-menu-name="LinkForOrganizationHeadAssign"><!-- Positioning Button -->
					<container id="addOrganizationHeadAssignPopUp"></container><!-- Menu Comes from Below Menu -->
					<!-- <container id="movePositionPopUp"></container> Menu Comes from Below Menu -->
					<include-menu location="component://humanres/widget/organization/menus/OrganizationMenus.xml" name="LinkForOrganizationHeadAssign" />
					<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="OrganizationHeadAssign" />
				</screenlet>
			</widgets>
		</section>
	</screen>
	
	<screen name="unitPositions">
		<section>
			<widgets>
				<screenlet name="positions" title="${organizationTitle} Level Positions" navigation-menu-name="LinkForPosition"><!-- Positioning Button -->
					<container id="unitAddPositionPopUp"></container><!-- Menu Comes from Below Menu -->
					<container id="unitMovePositionPopUp"></container> <!-- Menu Comes from Below Menu -->
					<include-menu location="component://humanres/widget/organization/menus/OrganizationMenus.xml" name="LinkForPosition" />
					<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="Positions" />
				</screenlet>
			</widgets>
		</section>
	</screen>

	<screen name="orgInformation">
	
		<section>
		<actions>
		<set field="orgPartyId" from-field="userPreferences.ORGANIZATION_PARTY"/>
		<set field="totalBudget" default-value="0" type="Integer"/>
		</actions>
			<widgets>
				<screenlet name="Companies" title="${organizationTitle} Information">
					<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="GroupInformation" />
				</screenlet>
			</widgets>
		</section>
	</screen>
	
	<screen name="unitInformation">
		<section>
		<actions>
		<set field="orgPartyId" from-field="userPreferences.ORGANIZATION_UNIT"/>
		<set field="totalBudget" default-value="0" type="Integer"/>
		</actions>
			<widgets>
				<screenlet name="Companies" title="${organizationTitle} Information">
					<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="UnitInformation" />
				</screenlet>
			</widgets>
		</section>
	</screen>

	<screen name="orgList">
		<section>
			<condition>
			<if-compare operator="equals" value="Company"
							field="userPreferences.ORGANIZATION_PARTY" />
				</condition>
			<widgets>
				<screenlet name="Companies" title="${organizationChildListTitle}" navigation-menu-name="AddCompany1">
			
					<container id="addCompanyPopUp"></container>
					
					<include-menu location="component://humanres/widget/organization/menus/OrganizationMenus.xml" name="AddCompany1" />
					<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="GroupList" />
				</screenlet>
			</widgets>
			<fail-widgets>
				<screenlet name="Companies" title="${organizationChildListTitle}" navigation-menu-name="AddCompany">
					<container id="addCompanyPopUp"></container>
					<include-menu location="component://humanres/widget/organization/menus/OrganizationMenus.xml" name="AddCompany" />
					<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="GroupList" />
				</screenlet>
			</fail-widgets>
		</section>
	</screen>
	
	
	
	 <screen name="orgUnitList">
		<section>
			<widgets>
				<screenlet name="Companies" title="${organizationChildListTitle}" navigation-menu-name="AddCompany">
					<container id="addCompanyPopUp"></container>
					<include-menu location="component://humanres/widget/organization/menus/OrganizationMenus.xml" name="AddCompany" />
					<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="UnitList" />
				</screenlet>
		</widgets>
			
		</section>
	</screen>
	
	
	<screen name="orgDocumentList">
		<section>
			<widgets>
				<screenlet name="documents" title="Documents " id="documents" navigation-menu-name="AddDocument">
					<container id="addDocumentPopUp"></container>
					<include-menu location="component://humanres/widget/organization/menus/OrganizationMenus.xml" name="AddDocument" />
					<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="Documents" />
				</screenlet>
			</widgets>
		</section>
	</screen>
	
	<screen name="BusinessDocumentList">
		<section>
			<actions>
				<entity-condition entity-name="DocumentPermission" list="documentList">
					<condition-expr field-name="permissionType"  value="Publish for all"/>
				</entity-condition>
                <set field="documentPermissionCtx" from-field="parameters"/>
			</actions>
			<widgets>
				<screenlet name="documents" title="Company Documents">
					<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="BusinessDocumentList" />
				</screenlet>
			</widgets>
		</section>
	</screen>
	<screen name="orgUnitDocumentList">
		<section>
			<widgets>
				<screenlet name="documents" title="Documents" id="documents" navigation-menu-name="UnDocument">
					<container id="addDocumentUnitPopUp"></container>
					<include-menu location="component://humanres/widget/organization/menus/OrganizationMenus.xml" name="UnDocument" />
					<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="Documents" />
				</screenlet>
			</widgets>
		</section>
	</screen>

	<screen name="DocumentPermission">
		<section>
        	<widgets>
                <decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">	                       
						<screenlet name="documents" title="Company Document Permission Set" id="documents">
							<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="DocumentPermission" />
						</screenlet>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>	
	</screen>
	<screen name="Group">
		<section>
			<widgets>
				<section>
					<actions>
						<set field="organizationChildListTitle" value="Companies" /> <!-- In case of Group Screen children are Companies -->
						<entity-condition list="companies" entity-name="PartyRelationship">
							<condition-list>
								<condition-expr field-name="partyIdFrom" from-field="userPreferences.ORGANIZATION_PARTY" /> <!-- userPreferences is the structure to keep organization selection in Request Life Cycle -->
								<condition-expr field-name="roleTypeIdFrom" value="_NA_" /><!-- only Companies will have role _NA_ in relationship with GROUP -->
							</condition-list>
						</entity-condition>
						<entity-condition list="documents" entity-name="PartyContentDetail">
							<condition-list>
								<condition-expr field-name="partyId" from-field="userPreferences.ORGANIZATION_PARTY" />
							</condition-list>
						</entity-condition>
						<entity-one value-field="group" entity-name="PartyGroup">
							<field-map field-name="partyId" from-field="userPreferences.ORGANIZATION_PARTY" />
						</entity-one>
					</actions>
					<widgets />
				</section>
				<decorator-screen name="OrganizationMainDecorator" location="${decorator}">
					<decorator-section name="body">
						<container style="profile-left">
							<include-screen name="orgList" />
						</container>
						<container style="profile-right">
							<include-screen name="orgDocumentList" />
						</container>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="Company">
		<section>
			<widgets>
				<section>
					<actions>
						<set field="organizationChildListTitle" value="Divisions" />
						<set field="organizationTitle" value="Company" />
						<set field="orgPartyId" from-field="userPreferences.ORGANIZATION_PARTY"/>
						<entity-condition list="companies" entity-name="PartyRelationship">
							<condition-list>
								<condition-expr field-name="partyIdFrom" from-field="userPreferences.ORGANIZATION_PARTY" />
								<condition-expr field-name="roleTypeIdTo" value="DIVISION" />
							</condition-list>
						</entity-condition>

						<entity-condition list="documents" entity-name="PartyContentDetail">
							<condition-list>
								<condition-expr field-name="partyId" from-field="userPreferences.ORGANIZATION_PARTY" />
							</condition-list>
						</entity-condition>
						<entity-condition list="positions" entity-name="EmplPosition">
							<condition-list>
								<condition-expr field-name="partyId" from-field="userPreferences.ORGANIZATION_PARTY" />
							</condition-list>
						</entity-condition>
					</actions>
					<widgets />
				</section>
				<decorator-screen name="OrganizationMainDecorator" location="${decorator}">
					<decorator-section name="body">
					 	<container style="profile-full">
					 		<include-screen name="breadcrumb" />
					 	</container> 
						<container style="profile-left">
							<include-screen name="orgInformation" />
							<include-screen name="orgUnitList" />
							<include-screen name="positions" />
						</container>
						<container style="profile-right">
							<include-screen name="orgDocumentList" />
						</container>
					</decorator-section>

				</decorator-screen>
			</widgets>

		</section>
	</screen>
	<!-- Main Screen For Organization Information Management -->
	<screen name="structure">
		<section>
			<actions>
				<!-- Setting Menu -->
				<set field="headerItem" value="organization" /> <!-- App Menu -->
				<set field="tabButtonItem" value="profile" /> 
				<set field="decorator"
					value="component://humanres/widget/organization/screens/OrganizationScreens.xml" /> <!-- Decorator -->
				<!-- Determining Division/Department/Section -->
				<entity-condition list="roles" entity-name="PartyRole">
					<condition-list>
						<condition-expr field-name="partyId"
							from-field="userPreferences.ORGANIZATION_UNIT" />
					</condition-list>
				</entity-condition>
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/organization/organizationRole.groovy" />
			</actions>
			<widgets>
				 
				<section>
					<condition>
						<!-- If selected Organization Id is "Company", it determines that Mother 
							Group is selected -->
						<if-compare operator="equals" value="Company"
							field="userPreferences.ORGANIZATION_PARTY" />
					</condition>

					<!-- ============================== GROUP ==================================== -->
					<widgets>
						<include-screen name="Group" />
					</widgets>
					<!-- ============================== COMPANY ==================================== -->
					<fail-widgets>

						<section>
							<condition>
								  <and>
								 	<if-empty field="isDivision" />
								 	<if-empty field="isDeparment" />
								 	<if-empty field="isSection" />
								 	<if-empty field="isLine" />
								 </and>
								<!-- <if-compare operator="equals" value="DIVISION" field="isDivision"/> -->
							</condition>
							<widgets>
								<include-screen name="Company" />
							</widgets>
							
							<fail-widgets>
								
								<section>
										<condition>
											  <and>
												<if-empty field="isDeparment" />
												<if-empty field="isSection" />
												<if-empty field="isLine" />
											  </and>
										</condition>
										<widgets>
											<!-- ======================DIVISION================ -->
											<include-screen name="Division" />
										</widgets>
										<fail-widgets>
												 <section>
													<condition>
													<and>
														<if-empty field="isSection" />
														<if-empty field="isLine" />
													</and>
														
													</condition>
													<widgets>
													<!-- ======================DEPARTMENT================ -->
														<include-screen name="Department" /> 
														
													</widgets>
											
													<fail-widgets>
															
											   			
											   				<section>
											   					<condition>
											   							<if-empty field="isLine" />
											   					</condition>
											   					<widgets>
											   					<!-- ======================SECTION================ -->
											   						<include-screen name="Section" /> 
											   					</widgets>
											   					<fail-widgets>
											   					<!-- ======================Line================ -->
											   						<include-screen name="Line" /> 
											   					</fail-widgets>
											   				</section>
													</fail-widgets>
												</section>
										</fail-widgets>
								</section>
							</fail-widgets>
						</section>

					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>

	<!-- Main Screen For DIVISION Information Management -->
	<screen name="Division">
		<section>
			<widgets>
				<section>
					<actions>
						<set field="organizationChildListTitle" value="Departments" />
						<set field="organizationTitle" value="Division" />
						<entity-condition list="companies" entity-name="PartyRelationship">
							<condition-list>
								<condition-expr field-name="partyIdFrom" from-field="userPreferences.ORGANIZATION_UNIT" />
								<condition-expr field-name="roleTypeIdTo" value="DEPARTMENT" />
							</condition-list>
						</entity-condition>

						<entity-condition list="documents" entity-name="PartyContentDetail">
							<condition-list>
								<condition-expr field-name="partyId" from-field="userPreferences.ORGANIZATION_UNIT" />
							</condition-list>
						</entity-condition>
						<entity-condition list="positions" entity-name="EmplPosition">
							<condition-list>
								<condition-expr field-name="partyId" from-field="userPreferences.ORGANIZATION_UNIT" />
							</condition-list>
						</entity-condition>
					</actions>
					<widgets />
				</section>
				<decorator-screen name="OrganizationMainDecorator" location="${decorator}">
					<decorator-section name="body">
					  	<container style="profile-full">
					 		<include-screen name="breadcrumb" />
					 	</container> 
						<container style="profile-left">
							<include-screen name="unitInformation" />
							<include-screen name="orgUnitList" />
							<include-screen name="unitPositions" />

						</container>
						<container style="profile-right">
							<include-screen name="orgUnitDocumentList" />
							<include-screen name="OrganizationHeadAssign" />
							
						</container>
					</decorator-section>

				</decorator-screen>
			</widgets>
		</section>
	</screen>
<!-- Main Screen For Department Information Management -->
	<screen name="Department">
		<section>
			<widgets>
				<section>
					<actions>
						<set field="organizationChildListTitle" value="Sections" />
						<set field="organizationTitle" value="Department" />
						<entity-condition list="companies" entity-name="PartyRelationship">
							<condition-list>
								<condition-expr field-name="partyIdFrom"
									from-field="userPreferences.ORGANIZATION_UNIT" />
								<condition-expr field-name="roleTypeIdTo" value="SECTION" />
							</condition-list>
						</entity-condition>

						<entity-condition list="documents" entity-name="PartyContentDetail">
							<condition-list>
								<condition-expr field-name="partyId"
									from-field="userPreferences.ORGANIZATION_UNIT" />
							</condition-list>
						</entity-condition>
						<entity-condition list="positions" entity-name="EmplPosition">
							<condition-list>
								<condition-expr field-name="partyId"
									from-field="userPreferences.ORGANIZATION_UNIT" />
							</condition-list>
						</entity-condition>
					</actions>
					<widgets />
				</section>
				<decorator-screen name="OrganizationMainDecorator"
					location="${decorator}">
					<decorator-section name="body">
					  	<container style="profile-full">
					 		<include-screen name="breadcrumb" />
					 	</container>
						<container style="profile-left">
							<include-screen name="unitInformation" />
							<include-screen name="orgUnitList" />
							<include-screen name="unitPositions" />

						</container>
						<container style="profile-right">
							<include-screen name="orgUnitDocumentList" />
							<include-screen name="OrganizationHeadAssign" />
						</container>
					</decorator-section>

				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<!-- Main Screen For Section Information Management -->
	<screen name="Section">
		<section>
			<widgets>
				<section>
					<actions>
						<set field="organizationChildListTitle" value="Unit/WorkProcess" />
						<set field="organizationTitle" value="Section" />
						<entity-condition list="companies" entity-name="PartyRelationship">
							<condition-list>
								<condition-expr field-name="partyIdFrom"
									from-field="userPreferences.ORGANIZATION_UNIT" />
								<condition-expr field-name="roleTypeIdTo" value="UNIT" />
							</condition-list>
						</entity-condition>

						<entity-condition list="documents" entity-name="PartyContentDetail">
							<condition-list>
								<condition-expr field-name="partyId"
									from-field="userPreferences.ORGANIZATION_UNIT" />
							</condition-list>
						</entity-condition>
						<entity-condition list="positions" entity-name="EmplPosition">
							<condition-list>
								<condition-expr field-name="partyId"
									from-field="userPreferences.ORGANIZATION_UNIT" />
							</condition-list>
						</entity-condition>
					</actions>
					<widgets />
				</section>
				<decorator-screen name="OrganizationMainDecorator"
					location="${decorator}">
					<decorator-section name="body">
					 	<container style="profile-full">
					 		<include-screen name="breadcrumb" />
					 	</container>
						<container style="profile-left">
							<include-screen name="unitInformation" />
							<include-screen name="orgUnitList" />
							<include-screen name="unitPositions" />

						</container>
						<container style="profile-right">
							<include-screen name="orgUnitDocumentList" />
							<include-screen name="OrganizationHeadAssign" />
						</container>
					</decorator-section>

				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	<!-- Main Screen For Line Information Management -->
	<screen name="Line">
		<section>
			<widgets>
				<section>
					<actions>
						<set field="organizationChildListTitle" value="Unit/WorkProcess" />
						<set field="organizationTitle" value="Unit" />
						<entity-condition list="companies" entity-name="PartyRelationship">
							<condition-list>
								<condition-expr field-name="partyIdFrom" from-field="userPreferences.ORGANIZATION_UNIT" />
								<condition-expr field-name="roleTypeIdTo" value="UNIT" />
							</condition-list>
						</entity-condition>
						<entity-condition list="documents" entity-name="PartyContentDetail">
							<condition-list>
								<condition-expr field-name="partyId" from-field="userPreferences.ORGANIZATION_UNIT" />
							</condition-list>
						</entity-condition>
						<entity-condition list="positions" entity-name="EmplPosition">
							<condition-list>
								<condition-expr field-name="partyId" from-field="userPreferences.ORGANIZATION_UNIT" />
							</condition-list>
						</entity-condition>
					</actions>
					<widgets />
				</section>
				<decorator-screen name="OrganizationMainDecorator" location="${decorator}">
					<decorator-section name="body">
					 	<container style="profile-full">
					 		<include-screen name="breadcrumb" />
					 	</container>
						<container style="profile-left">
							<include-screen name="unitInformation" />
							<include-screen name="unitPositions" />
						</container>
						
						<container style="profile-right">
							<include-screen name="orgUnitDocumentList" />
						</container>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<!-- A Simple Decorator for Popups -->
	<screen name="PopupActions">
		<section>
			<actions>
				<property-map resource="HumanResUiLabels" map-name="uiLabelMap" global="true" />
				
				<property-map resource="CommonUiLabels" map-name="uiLabelMap" global="true" />
				<property-map resource="PartyUiLabels" map-name="uiLabelMap" global="true" />
				<property-map resource="AccountingUiLabels" map-name="uiLabelMap" global="true" />
				<property-map resource="OrderUiLabels" map-name="uiLabelMap" global="true" />
				<property-map resource="WorkEffortUiLabels" map-name="uiLabelMap" global="true" />
			</actions>
			<widgets />
		</section>
	</screen>
	<screen name="uploadContent">
		<section>
			<actions>
				<entity-one entity-name="PartyGroup" value-field="company">
					<field-map field-name="partyId" from-field="userPreferences.ORGANIZATION_PARTY" />
				</entity-one>
				<set field="parameters.partyId" value="${defaultOrganizationPartyId}" />
				<set field="partyContentTypeId" value="INTERNAL" />
				<set field="uploadTitle" value="Upload Document" />
			</actions>
			<widgets>
				<include-screen name="PopupActions" />
				<!-- <include-screen name="ContessaActions" location="component://common/widget/CommonScreens.xml" /> -->
				<platform-specific>
					<html>
						<html-template location="component://humanres/webapp/humanres/humanres/organization/Content.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	
	<screen name="uploadUnitContent">
		<section>
			<actions>
				<entity-one entity-name="PartyGroup" value-field="company">
					<field-map field-name="partyId" from-field="userPreferences.ORGANIZATION_UNIT" />
				</entity-one>
				<set field="parameters.partyId" value="${defaultOrganizationPartyId}" />
				<set field="partyContentTypeId" value="INTERNAL" />
				<set field="uploadTitle" value="Upload Document" />
			</actions>
			<widgets>
				<include-screen name="PopupActions" />
				<!-- <include-screen name="ProttayActions" location="component://common/widget/CommonScreens.xml" /> -->
				<platform-specific>
					<html>
						<html-template location="component://humanres/webapp/humanres/humanres/organization/Content.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	
	<screen name="CompanyAddPopUp">
		<section>
			<actions>
				<entity-one entity-name="PartyGroup" value-field="company">
					<field-map field-name="partyId" from-field="userPreferences.ORGANIZATION_PARTY" />
				</entity-one>
				
				<!-- END -->
				<set field="parameters.partyId" value="${defaultOrganizationPartyId}" />
				<set field="orgPartyId" value="${userPreferences.ORGANIZATION_PARTY}"/>
				<!-- Determining Division/Department/Section -->
				<entity-condition list="roles" entity-name="PartyRole">
					<condition-list>
						<condition-expr field-name="partyId"
							from-field="userPreferences.ORGANIZATION_UNIT" />
					</condition-list>
				</entity-condition>
				
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/organization/organizationRole.groovy" />
			</actions>
			<widgets>
				<include-screen name="PopupActions" />
				<!-- <include-screen name="ProttayActions" location="component://common/widget/CommonScreens.xml" /> -->
				<section>
					<condition>
						<!-- If selected Organization Id is "Company", it determines that Mother 
							Group is selected -->
						<if-compare operator="equals" value="Company"
							field="userPreferences.ORGANIZATION_PARTY" />
					</condition>

				<!-- ============================== COMPANY ==================================== -->
					<widgets>
					<screenlet title="Create New Company">
						<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="FormForAddCompany"/>
						</screenlet> 
					</widgets>
					
					<fail-widgets>
					<section>
						<condition>
							  <and>
							    <!-- from company window -->
								<if-empty field="isDivision" />
				 				<if-empty field="isDeparment" />
				 				<if-empty field="isSection" />
							  </and>
						</condition>
						<widgets>
							<!-- ======================DIVISION================ -->
							<screenlet title="Create New Divisions">
								<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="FormForAddDivisions"/>
							</screenlet>
						</widgets>
						<fail-widgets>
					       <!-- from division window -->
					       <section>
				       			<condition>
				       					<and>
				       						<if-empty field="isDeparment" />
		 									<if-empty field="isSection" />
				       					</and>
				       			</condition>
				       			<widgets>
				       					<screenlet title="Create New Departments">
											<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="FormForAddDepartments"/>
										</screenlet>
				       			</widgets>
				       			<fail-widgets>
		       						<section>
		       							<condition>
		       							     <if-empty field="isSection" />
		       							</condition>
		       							<widgets>
		       									<screenlet title="Create New Section">
													<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="FormForAddSection"/>
												</screenlet>
		       							</widgets>
		       							<fail-widgets>
		       									<screenlet title="Create New Unit">
													<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="FormForAddLine"/>
												</screenlet>
		       							</fail-widgets>
		       						</section>
				       			
				       			</fail-widgets>
					       </section>
								
						</fail-widgets>
					</section>
					</fail-widgets>
					</section>
			</widgets>
		</section>
	</screen>
	<screen name="PaygradeAddPopUp">
		<section>
			<actions>
				<entity-one entity-name="PartyGroup" value-field="company">
					<field-map field-name="partyId" from-field="userPreferences.ORGANIZATION_PARTY" />
				</entity-one>
				<set field="parameters.partyId" value="${defaultOrganizationPartyId}" />
				<set field="orgPartyId" value="${userPreferences.ORGANIZATION_PARTY}"/>
				<set field="emplPositionId" value="${parameters.emplPositionId}" />
				<!-- Determining Division/Department/Section -->
				<entity-condition list="roles" entity-name="PartyRole">
					<condition-list>
						<condition-expr field-name="partyId"
							from-field="userPreferences.ORGANIZATION_PARTY" />
					</condition-list>
				</entity-condition>
				<entity-condition list="emplPosition" entity-name="EmplPosition"></entity-condition>
				
			</actions>
			<widgets>
				<include-screen name="PopupActions" />
				<!-- <include-screen name="ProttayActions" location="component://common/widget/CommonScreens.xml" /> -->
					<section>
						<widgets>
						<screenlet title="Create New Pay Grade">
						  <include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="FormForAddPaygrade"/>
						</screenlet>
						</widgets>
					</section>
				
				
			</widgets>
		</section>
	</screen>
	<screen name="breadcrumb">
		<section>
			<actions>
			<!-- <set field="partyId" from-field="${userPreferences.ORGANIZATION_PARTY}" /> -->
			 
			 
			<set field="partyId" value="CSL" />
			<set field="orgUnitId" from-field="userPreferences.ORGANIZATION_UNIT" />
			<!-- <entity-condition list="companies" entity-name="PartyRelationship">
							<condition-list>
								<condition-expr field-name="partyIdFrom" from-field="userPreferences.ORGANIZATION_PARTY" /> userPreferences is the structure to keep organization selection in Request Life Cycle
								<condition-expr field-name="roleTypeIdFrom" value="_NA_" />only Companies will have role _NA_ in relationship with GROUP
							</condition-list>
						</entity-condition>
						<set field="userPrefValue" value="${companies[0].partyId}"/> -->
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/organization/breadcrumborgunit.groovy" />
			</actions>
			<widgets>
			<platform-specific>
					<html>
						<html-template location="component://humanres/webapp/humanres/humanres/organization/breadcrumb.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	<!-- PopUp Screen for OrganizationHeadAssignAddPopUp -->
	<screen name="OrganizationHeadAssignAddPopUp">
		<section>
			<actions>
			    <set field="partyId" from-field="parameters.partyId"/>
                <set field="employeePartyId" from-field="parameters.employeePartyId"/>
                
                <entity-one entity-name="BusinessUnitTopAssign" value-field="partyId" auto-field-map="false">
                <field-map field-name="partyId" from-field="partyId"/> 
                <field-map field-name="employeePartyId" from-field="employeePartyId"/> 
                </entity-one>
			</actions>
			<widgets>
				 <include-screen name="PopupActions" />
					<section>
						<widgets>
							<screenlet title="Assign Organization Head">
								<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="FormForAddOrganizationHead" />
							</screenlet>
						</widgets>
					</section>
			</widgets>
		</section>
	</screen>
	
	<!-- PopUp Screen for Position -->
	<screen name="PositionAddPopUp">
		<section>
			<actions>
				<set field="partyId" value="${userPreferences.ORGANIZATION_PARTY}" global="true"/>
				
				<entity-one entity-name="PartyGroup" value-field="company">
					<field-map field-name="partyId" from-field="partyId" />
				</entity-one>
				<set field="parameters.partyId" value="${defaultOrganizationPartyId}" />
				<set field="orgPartyId" from-field="partyId"/>
				
				<entity-and list="emplPosition" entity-name="EmplPosition">
                	<field-map field-name="partyId" from-field="companyId"/>
                </entity-and>
			</actions>
			<widgets>
				<include-screen name="PopupActions" />
				<!-- <include-screen name="ProttayActions" location="component://common/widget/CommonScreens.xml" /> -->
					<section>
						<widgets>
							<screenlet title="Create New Position">
								<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="FormForAddPositions" />
							</screenlet>
						</widgets>
					</section>
			</widgets>
		</section>
	</screen>

	
	<!-- PopUp Screen for PositionUnit -->
	<screen name="UnitPositionAddPopUp">
		<section>
			<actions>
				<set field="partyId" value="${userPreferences.ORGANIZATION_UNIT}" global="true"/>
				
				<entity-one entity-name="PartyGroup" value-field="company">
					<field-map field-name="partyId" from-field="partyId" />
				</entity-one>
				<set field="parameters.partyId" value="${defaultOrganizationPartyId}" />
				<set field="orgPartyId" from-field="partyId"/>
				
				<entity-and list="emplPosition" entity-name="EmplPosition">
                	<field-map field-name="partyId" from-field="companyId"/>
                </entity-and>
			</actions>
			<widgets>
				<include-screen name="PopupActions" />
				<!-- <include-screen name="ProttayActions" location="component://common/widget/CommonScreens.xml" /> -->
					<section>
						<widgets>
							<screenlet title="Create New Position">
								<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="FormForAddPositions" />
							</screenlet>
						</widgets>
					</section>
			</widgets>
		</section>
	</screen>
	
	
	
	<!-- PopUp Screen for Position Child -->
	<screen name="PositionAddPopUpChild">
		<section>
			<actions>
				<set field="partyId" value="${userPreferences.ORGANIZATION_PARTY}" global="true"/>
				<set field="partyUnit" value="${userPreferences.ORGANIZATION_UNIT}" global="true"/>
				
				<!-- Check Organization or Organization Unit Selection -->
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/organization/SelectOrganizationOrOrgUnit.groovy" />
				
				<entity-one entity-name="PartyGroup" value-field="company">
					<!-- <field-map field-name="partyId" from-field="partyId" /> -->
					<field-map field-name="partyId" value="${partyId}"/>
				</entity-one>
				<set field="parameters.partyId" value="${defaultOrganizationPartyId}" />
			<!-- 	<set field="orgPartyId" from-field="partyId"/> -->
				<set field="orgPartyId" value="${partyId}"/>
				
				<entity-and list="emplPosition" entity-name="EmplPosition">
                	<field-map field-name="partyId" from-field="companyId"/>
                </entity-and>
                
                <set field="emplPositionTypeId" value="${parameters.emplPositionTypeId}" default-value="${emplPositionTypeId}"/>
			</actions>
			<widgets>
				<include-screen name="PopupActions" />
				<!-- <include-screen name="ProttayActions" location="component://common/widget/CommonScreens.xml" /> -->
					<section>
						<widgets>
							<include-form location="component://humanres/widget/organization/forms/OrganizationForms.xml" name="FormForAddPositionsChild" />
						</widgets>
					</section>
			</widgets>
		</section>
	</screen>
	
	<!-- PopUp Screen for Move -->
	<screen name="PositionMovePopUp">
		<section>
			<actions>
				<entity-one entity-name="PartyGroup" value-field="company">
					<field-map field-name="partyId" from-field="userPreferences.ORGANIZATION_PARTY" />
				</entity-one>
				<set field="parameters.partyId" value="${defaultOrganizationPartyId}" />
				<set field="orgPartyId" value="${userPreferences.ORGANIZATION_PARTY}"/>
				
				<entity-condition list="partyIdList" entity-name="EmplPosition"/>
			</actions>
			<widgets>
				<include-screen name="PopupActions" />
				<!-- <include-screen name="ProttayActions" location="component://common/widget/CommonScreens.xml" /> -->
					<section>
						<widgets>
							<include-form location="component://humanres/widget/organization/forms/OrgLookupForms.xml" name="FormForMovePositions" />
						</widgets>
					</section>
			</widgets>
		</section>
	</screen>
	
	
	<!-- PopUp Screen for MoveUnit -->
	<screen name="UnitPositionMovePopUp">
		<section>
			<actions>
				<entity-one entity-name="PartyGroup" value-field="company">
					<field-map field-name="partyId" from-field="userPreferences.ORGANIZATION_UNIT" />
				</entity-one>
				<set field="parameters.partyId" value="${defaultOrganizationPartyId}" />
				<set field="orgPartyId" value="${userPreferences.ORGANIZATION_UNIT}"/>
				
				<entity-condition list="partyIdList" entity-name="EmplPosition"/>
			</actions>
			<widgets>
				<include-screen name="PopupActions" />
				<!-- <include-screen name="ProttayActions" location="component://common/widget/CommonScreens.xml" /> -->
					<section>
						<widgets>
							<include-form location="component://humanres/widget/organization/forms/OrgLookupForms.xml" name="FormForMovePositions" />
						</widgets>
					</section>
			</widgets>
		</section>
	</screen>
	
	<!-- PopUp Screen for Move -->
	<screen name="AssignFulfillmentPersonAddPopUp">
		<section>
			<actions>
			
				<set field="partyId" value="${userPreferences.ORGANIZATION_PARTY}" global="true"/>
				<set field="partyUnit" value="${userPreferences.ORGANIZATION_UNIT}" global="true"/>
				
				<!-- Check Organization or Organization Unit Selection -->
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/organization/SelectOrganizationOrOrgUnit.groovy" />
			
				<entity-one entity-name="PartyGroup" value-field="company">
					<!-- <field-map field-name="partyId" from-field="userPreferences.ORGANIZATION_PARTY" /> -->
					<field-map field-name="partyId" value="${partyId}"/>
				</entity-one>
				<set field="parameters.partyId" value="${defaultOrganizationPartyId}" />
				<!-- <set field="orgPartyId" value="${userPreferences.ORGANIZATION_PARTY}"/> -->
				<set field="orgPartyId" value="${partyId}"/>
				<set field="emplPositionId" value="${parameters.emplPositionId}" />
				<!-- Determining Division/Department/Section -->
				<entity-condition list="roles" entity-name="PartyRole">
					<condition-list>
					<!-- 	<condition-expr field-name="partyId"
							from-field="userPreferences.ORGANIZATION_PARTY" /> -->
							<condition-expr field-name="partyId"
							value="${partyId}"/>
					</condition-list>
				</entity-condition>
				<entity-condition list="emplPosition" entity-name="EmplPosition"></entity-condition>
				
			<!-- 	<set field="partyId" from-field="userPreferences.ORGANIZATION_PARTY" /> -->
				
			</actions>
			<widgets>
				<include-screen name="PopupActions" location="component://humanres/widget/organization/screens/OrganizationScreens.xml"/>
				<!-- <include-screen name="ProttayActions" location="component://common/widget/CommonScreens.xml" /> -->
					<section>
						<widgets>
						
						<include-form name="AssignFullfilmentPerson" location="component://humanres/widget/organization/forms/OrganizationForms.xml"/>
						</widgets>
					</section>
				
				
			</widgets>
		</section>
	</screen>
	 
    <screen name="OrgEmplPositionReportedToView">
        <section>
            <actions>
                <entity-condition entity-name="EmplPositionReportingStruct" list="emplPositionReportingStructs1">
                    <condition-expr field-name="emplPositionIdManagedBy" operator="equals" from-field="parameters.emplPositionId"/>
                    <order-by field-name="fromDate"/>
                </entity-condition>
                <entity-condition entity-name="EmplPositionReportingStruct" list="emplPositionReportingStructs">
                <condition-list>
                	<condition-expr field-name="emplPositionIdReportingTo" operator="equals" from-field="emplPositionReportingStructs1[0].emplPositionIdReportingTo"/>
                 	<condition-expr field-name="emplPositionIdManagedBy" operator="not-equals" from-field="emplPositionReportingStructs1[0].emplPositionIdReportingTo"/>
            	</condition-list>
                   
                </entity-condition>
            </actions>
            <widgets>
                <screenlet title="${uiLabelMap.HumanResEmplPositionReportingStruct}:${uiLabelMap.HumanResReportedTo}">
                    <section>
                        <widgets>
                            <include-form name="OrgListEmplPositionReportedToInfo" location="component://humanres/widget/organization/forms/OrganizationForms.xml"/>
                        </widgets>
                    </section>
                </screenlet>
            </widgets>
        </section>
    </screen>
	<screen name="OrgEmplPositionReportsToView">
        <section>
            <actions>
                <entity-condition entity-name="EmplPositionReportingStruct" list="emplPositionReportingStructs">
                <condition-list>
                	  <condition-expr field-name="emplPositionIdManagedBy" operator="equals" from-field="parameters.emplPositionId"/>
                	    <condition-expr field-name="emplPositionIdReportingTo" operator="not-equals" from-field="parameters.emplPositionId"/>
                </condition-list>
                  
                    <order-by field-name="fromDate"/>
                </entity-condition>
            </actions>
            <widgets>
               
                <screenlet name="positions" title="${uiLabelMap.HumanResEmplPositionReportingStruct}:${uiLabelMap.HumanResReportsTo}"  navigation-menu-name="AddReportingStruct"><!-- Positioning Button -->
								<container id="addReportingStruct"></container><!-- Menu Comes from Below Menu -->
					
								<include-menu location="component://humanres/widget/organization/menus/OrganizationMenus.xml" name="AddReportingStruct" />
					 			<include-form name="OrgListEmplPositionReportsToInfo" location="component://humanres/widget/organization/forms/OrganizationForms.xml"/>
						</screenlet>
                
            </widgets>
        </section>
    </screen>
    <!-- responsibilities for position profile -->
    <screen name="OrgEmplPositionResponsibilityView">
        <section>
            <actions>
                <entity-condition entity-name="EmplPositionResponsibility" list="emplPositionResponsibilities">
                    <condition-expr field-name="emplPositionId" operator="equals" from-field="parameters.emplPositionId"/>
                    <order-by field-name="fromDate"/>
                </entity-condition>
            </actions>
            <widgets>
               
                <screenlet name="responsibility" title="${uiLabelMap.HumanResEmplPositionResponsibilities}"  navigation-menu-name="AddOrgPositionResponsibilities">
								<container id="addOrgPositionResponsibility"></container><!-- Menu Comes from Below Menu -->
					
								<include-menu location="component://humanres/widget/organization/menus/OrganizationMenus.xml" name="AddOrgPositionResponsibilities" />
					 			 <include-form name="OrgListEmplPositionResponsibilityInfo" location="component://humanres/widget/organization/forms/OrganizationForms.xml"/>
				</screenlet>
            </widgets>
        </section>
    </screen>
    <!-- PopUp Screen for Reporting Struct -->
	<screen name="ReportingStructAddPopUp">
		<section>
			<actions>
			
				<set field="partyId" value="${userPreferences.ORGANIZATION_PARTY}" global="true"/>
				<set field="partyUnit" value="${userPreferences.ORGANIZATION_UNIT}" global="true"/>
				
				<!-- Check Organization or Organization Unit Selection -->
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/organization/SelectOrganizationOrOrgUnit.groovy" />
			
				<entity-one entity-name="PartyGroup" value-field="company">
				<!-- 	<field-map field-name="partyId" from-field="userPreferences.ORGANIZATION_PARTY" /> -->
					<field-map field-name="partyId" value="${partyId}"/>
				</entity-one>
				<set field="parameters.partyId" value="${defaultOrganizationPartyId}" />
				<!-- <set field="orgPartyId" value="${userPreferences.ORGANIZATION_PARTY}"/> -->
				<set field="orgPartyId" value="${partyId}"/>
				<set field="emplPositionId" value="${parameters.emplPositionId}" />
				<!-- Determining Division/Department/Section -->
				<entity-condition list="roles" entity-name="PartyRole">
					<condition-list>
					<!-- 	<condition-expr field-name="partyId"
							from-field="userPreferences.ORGANIZATION_PARTY" /> -->
							<condition-expr field-name="partyId"
							value="${partyId}"/>
					</condition-list>
				</entity-condition>
				<entity-condition list="emplPosition" entity-name="EmplPosition"></entity-condition>
			</actions>
			<widgets>
				<include-screen name="PopupActions" />
				<!-- <include-screen name="ProttayActions" location="component://common/widget/CommonScreens.xml" /> -->
					<section>
						<widgets>
							<include-form location="component://humanres/widget/organization/forms/OrgLookupForms.xml" name="FormForAddReportingStruct" />
						</widgets>
					</section>
			</widgets>
		</section>
	</screen>
	<!-- PopUp Screen for Reporting Struct -->
	<screen name="EmplPositionResponsibilityAddPopUp">
		<section>
			<actions>
			
				<set field="partyId" value="${userPreferences.ORGANIZATION_PARTY}" global="true"/>
				<set field="partyUnit" value="${userPreferences.ORGANIZATION_UNIT}" global="true"/>
				
				<!-- Check Organization or Organization Unit Selection -->
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/organization/SelectOrganizationOrOrgUnit.groovy" />
				
				<entity-one entity-name="PartyGroup" value-field="company">
					<!-- <field-map field-name="partyId" from-field="userPreferences.ORGANIZATION_PARTY" /> -->
					<field-map field-name="partyId" value="${partyId}"/>
				</entity-one>
				<set field="parameters.partyId" value="${defaultOrganizationPartyId}" />
				<!-- <set field="orgPartyId" value="${userPreferences.ORGANIZATION_PARTY}"/> -->
				<set field="orgPartyId" value="${partyId}"/>
				
				<set field="emplPositionId" value="${parameters.emplPositionId}" />
				<!-- Determining Division/Department/Section -->
				<entity-condition list="roles" entity-name="PartyRole">
					<condition-list>
					<!-- 	<condition-expr field-name="partyId"
							from-field="userPreferences.ORGANIZATION_UNIT" /> -->
								<condition-expr field-name="partyId"
							value="${partyId}"/>
					</condition-list>
				</entity-condition>
				<entity-condition list="emplPosition" entity-name="EmplPosition"></entity-condition>
			</actions>
			<widgets>
				<include-screen name="PopupActions" />
				
					<section>
						<widgets>
							<include-form location="component://humanres/widget/organization/forms/OrgLookupForms.xml" name="FormForAddEmplPositionResponsibility" />
						</widgets>
					</section>
			</widgets>
		</section>
	</screen>
	
	<screen name="OrgChart">
		<section>
			<widgets>
				<section>
					<actions>
						<set field="tabButtonItem" value="orgChart" />
						<set field="organizationChildListTitle" value="Divisions" />
						<set field="organizationTitle" value="Company" />
						<set field="partyId" value="${userPreferences.ORGANIZATION_PARTY}" global="true"/>
						<set field="partyUnit" value="${userPreferences.ORGANIZATION_UNIT}" global="true"/>
						<service service-name="createOrgChart"/>
						<set field="layoutSettings.styleSheets[]" value="/flatgrey/css/primitives.latest.css"
					global="true" />
					</actions>
					<widgets />
				</section>
				<decorator-screen name="OrganizationMainDecorator" location="${decorator}">
					<decorator-section name="body">
					 	<container style="profile-full">
					 		<include-screen name="breadcrumb" />
					 		<platform-specific>
								<html>
									<html-template location="component://humanres/webapp/humanres/humanres/organization/orgChart.ftl"/>
								</html>
							</platform-specific>
					 	</container>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="OrgChartNew">
		<section>
			<widgets>
				<section>
					<actions>
						<set field="tabButtonItem" value="orgChart" />
						<set field="organizationChildListTitle" value="Divisions" />
						<set field="organizationTitle" value="Company" />
						<set field="partyId" value="${userPreferences.ORGANIZATION_PARTY}" global="true"/>
						<set field="partyUnit" value="${userPreferences.ORGANIZATION_UNIT}" global="true"/>
						<service service-name="createOrgChart"/>
						<set field="layoutSettings.styleSheets[]" value="/flatgrey/css/Organogram.css"
					global="true" />
					</actions>
					<widgets />
				</section>
				<decorator-screen name="OrganizationMainDecorator" location="${decorator}">
					<decorator-section name="body">
					 	<container style="profile-full">
					 		<include-screen name="breadcrumb" />
					 		<platform-specific>
								<html>
									<html-template location="component://humanres/webapp/humanres/humanres/organization/orgChartNew.ftl"/>
								</html>
							</platform-specific>
					 	</container>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>	
   <screen name="PrintOrgChart">
		<section>
		<actions>
		<set field="actionButtonItem" value="${parameters.actionButtonItem}" />
		<set field="organizationChildListTitle" value="${parameters.organizationChildListTitle}" />
		<set field="organizationTitle" value="${parameters.organizationTitle}" />
		<set field="partyId" value="${parameters.partyId}"/>
		<set field="partyUnit" value="${parameters.partyUnit}"/>
		<service service-name="createOrgChart"/>
		</actions>

			<widgets>
				
					 <decorator-screen name="FoReportDecorator" location="component://common/widget/CommonScreens.xml">
			        <decorator-section name="body">
			           <platform-specific>
			               <xsl-fo><html-template location="component://humanres/webapp/humanres/humanres/organization/orgChartNew.fo.ftl"/></xsl-fo>
			          </platform-specific>
			        </decorator-section>
			    </decorator-screen>
					
				
			</widgets>
		</section>
	</screen>
	
</screens>
